<%# app/views/notifications/components/one_notification.html.erb %>


<% if notification.clickable? %>
  <%= link_to notification.target_url, class: "", data: { turbo_frame: "_top" } do %>

    <div class="grid grid-cols-12 gap-3 items-center p-2 mb-2 rounded-lg
     <% case notification.kind %>
      <% when "created" %>
        <%= notification.read? ? 'bg-green-800/50' : 'bg-green-800' %>

      <% when "updated" %>
        <%= notification.read? ? 'bg-amber-500/50' : 'bg-amber-500' %>
      <% when "canceled" %>
        <%= notification.read? ? 'bg-red-900/50' : 'bg-red-900' %>
      <% when "joined" %>
        <%= notification.read? ? 'bg-blue-800/30' : 'bg-blue-800/70' %>
      <% when "left" %>
        <%= notification.read? ? 'bg-red-900/50' : 'bg-red-900' %>
      <% when "invited" %>
        <%= notification.read? ? 'bg-blue-800/30' : 'bg-blue-800/70' %>
      <% end %>
    ">

          <!-- IcÃ´ne -->
          <div class="col-span-1 flex items-center justify-center">
            <div class="w-8 h-8 flex items-center justify-center rounded-full
                        <%= case notification.kind
                            when "created" then "bg-green-100 text-green-600"
                            when "updated" then "bg-orange-100 text-orange-600"
                            when "canceled" then "bg-red-100 text-red-600"
                            when "joined" then "text-green-600"
                            when "left" then "bg-gray-100 text-gray-600"
                            when "invited" then "bg-indigo-100 text-indigo-600"
                            when "reminder" then "bg-blue-100 text-blue-600"
                            else "bg-gray-100 text-gray-400"
                            end %>">
              <%= notification_icon(notification.kind) %>
            </div>
          </div>

          <!-- Texte -->
          <div class="col-span-10">
            <p class="text-sm font-medium text-secondary-text"><%= notification_message(notification) %></p>
            <p class="text-xs text-indigo-100/60">il y a <%= time_ago_in_words(notification.created_at) %></p>
          </div>

    </div>

  <% end %>
<% else %>

    <div class="grid grid-cols-12 gap-2 items-center p-2 mb-2 rounded-lg border
                <%= notification.read? ? 'bg-white border-gray-200' : 'border-yellow-300' %>">

          <!-- IcÃ´ne -->
          <div class="col-span-1 flex items-center justify-center">
            <div class="w-8 h-8 flex items-center justify-center rounded-full
                        <%= case notification.kind
                            when "created" then "bg-green-100 text-green-600"
                            when "updated" then "bg-orange-100 text-orange-600"
                            when "canceled" then "bg-red-100 text-red-600"
                            when "joined" then "text-green-600"
                            when "left" then "bg-gray-100 text-gray-600"
                            when "invited" then "bg-indigo-100 text-indigo-600"
                            when "reminder" then "bg-blue-100 text-blue-600"
                            else "bg-gray-100 text-gray-400"
                            end %>">
              <%= notification_icon(notification.kind) %>
            </div>
          </div>

          <!-- Texte -->
          <div class="col-span-11">
            <p class="text-sm font-medium text-secondary-text"><%= notification_message(notification) %></p>
            <legend class="text-xs text-indigo-100/60">il y a <%= time_ago_in_words(notification.created_at) %></legend>
          </div>

    </div>

<% end %>

<%# render notifications/components/one_notification, notification: notification %>
